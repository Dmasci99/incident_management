<section data-ng-controller="UsersController" data-ng-init="find()">
  <h2>Users list</h2>
  <ul>
    <li data-ng-repeat="user in users">
      <a data-ng-href="#!/users/{{user._id}}" data-ng-bind="user.username"></a>
      <span data-ng-bind="user.firstName"></span>
      <span data-ng-bind="user.lastName"></span>
      <span data-ng-bind="user.email"></span>
    </li>
  </ul>
</section>

<main class="container" data-ng-controller="UsersController" data-ng-init="find()">
  <h1>Users</h1>
  <div class="panel panel-default">
    <div class="panel-heading">
      <a href="/users/add" title="Add User"><i class="fa fa-plus-circle"></i> Add a new User</a>
    </div> <!-- panel-heading -->
    <div class="panel-body table-responsive">
      <table class="table table-bordered table-striped table-hover" data-ng-repeat="user in users">
        <thead>
        <tr>
          <th>Username</th>
          <th>First Name</th>
          <th>Last Name</th>
          <th>Email</th>
          <th></th>
        </tr>
        </thead>
        </tbody>
        <tr>
          <td>
            {{user.username}}
          </td>
          <td>
            {{user.firstName}}
          </td>
          <td>
            {{user.lastName}}
          </td>
          <td>
            {{user.email}}
          </td>
          <td>
            <a href="/users/<%= users[i]._id %>" title="Edit" >
              <button type="button" class="btn btn-primary">Edit</button>
              <i class="fa fa-pencil-square-o"></i>
            </a>
            <a href="/users/delete/<%= users[i]._id %>" title="Delete" onclick="return confirm('Are you sure you want to delete this?');" >
              <buton type="button" class="btn btn-danger">Delete</buton>
              <i class="fa fa-trash-o"></i>
            </a>
          </td>
        </tr>
        <% } %>
        </tbody>
      </table>
    </div> <!-- panel-body -->
    <% } %>
  </div><!-- panel panel-default -->

</main>